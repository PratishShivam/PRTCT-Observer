<!-- app/code/Prtct/Provisioning/etc/frontend/events.xml -->
<?xml version="1.0"?>
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="urn:magento:framework:Event/etc/events.xsd">

    <!-- Na succesvolle betaling -->
    <event name="checkout_submit_all_after">
        <observer name="prtct_subscription_created"
                  instance="Prtct\Provisioning\Observer\SubscriptionCreated"/>
    </event>

    <!-- Mollie-renewal webhook -->
    <event name="prtct_provisioning_subscription_renew">
        <observer name="prtct_provision_renewal"
                  instance="Prtct\Provisioning\Observer\ProvisionSubscriptionObserver"/>
    </event>

    <!-- Mollie-cancel webhook -->
    <event name="prtct_provisioning_subscription_cancel">
        <observer name="prtct_provision_cancellation"
                  instance="Prtct\Provisioning\Observer\DeactivateSubscriptionObserver"/>
    </event>
</config>
